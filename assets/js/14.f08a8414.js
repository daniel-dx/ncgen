(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{367:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指南"}},[t._v("#")]),t._v(" 指南")]),t._v(" "),a("h2",{attrs:{id:"快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),a("blockquote",[a("p",[t._v("你只需提供一份描述代码生成器逻辑的配置文件，请按照以下步骤创建你的第一个代码生成器")])]),t._v(" "),a("ol",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i ncgen -g "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn global add ncgen")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("生成配置文件")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ ncgen genConf\n")])])]),a("p",[t._v("这将会在你当前目录下生成一个 "),a("code",[t._v("ncgen-config.js")]),t._v(" 的文件")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("编辑配置文件")])]),t._v(" "),a("p",[t._v("假设模板项目为："),a("a",{attrs:{href:"https://github.com/daniel-dx/vue3-ncgen-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3-ncgen-demo"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("将 "),a("a",{attrs:{href:"https://github.com/daniel-dx/vue3-ncgen-demo/blob/master/ncgen-config.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("模板项目对应的示例 ncgen-config.js"),a("OutboundLink")],1),t._v(" 的内容复制到你的 "),a("code",[t._v("ncgen-config.js")])]),t._v(" "),a("blockquote",[a("p",[t._v("各配置项的详细介绍请查看："),a("RouterLink",{attrs:{to:"/zh/config.html"}},[t._v("配置帮助文档")])],1)]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("运行")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行主命令生成项目脚手架")]),t._v("\n$ ncgen ./ncgen-config.js\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有子命令")]),t._v("\n$ ncgen ./ncgen-config.js::help\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行子命令在生成的项目中新增组件")]),t._v("\n$ ncgen ./ncgen-config.js::add-component\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("如需更详细的手把手的教程，请阅读这篇文章："),a("a",{attrs:{href:"https://juejin.cn/post/6960427434235658277",target:"_blank",rel:"noopener noreferrer"}},[t._v("新生代小鲜肉之代码生成器"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"nodejs-api-运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-api-运行"}},[t._v("#")]),t._v(" NodeJS API 运行")]),t._v(" "),a("p",[t._v("ncgen 也支持通过 NodeJS API（非命令行） 的方式运行，示例如下。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" generate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ncgen"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// or import { generate } from "ncgen"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行主命令")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path/to/ncgen-config.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行子命令")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path/to/ncgen-config.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" command"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add-component"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("该 API 的具体介绍请查看 "),a("RouterLink",{attrs:{to:"/zh/API.html#generate-config-options-⇒-promise"}},[t._v("generate")])],1),t._v(" "),a("h2",{attrs:{id:"属于你的生成器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属于你的生成器"}},[t._v("#")]),t._v(" 属于你的生成器")]),t._v(" "),a("p",[t._v("假设你现在想开发一个叫 "),a("strong",[t._v("cook")]),t._v(" 的代码生成器工具，你只需按照以下步骤即可快速完成开发")]),t._v(" "),a("p",[t._v("第一步：创建代码生成器项目")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init @ncgen/app "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn create @ncgen/app")]),t._v("\n")])])]),a("p",[t._v("第二步：按照你代码生成器的逻辑修改 "),a("code",[t._v("ncgen-config.js")])]),t._v(" "),a("blockquote",[a("p",[t._v("创建子命令可用以下命令完成，以省去你复制粘贴的操作")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" cook\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init @ncgen/app add-sub "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn create @ncgen/app add-sub")]),t._v("\n")])])]),a("p",[t._v("第三步：发布你的代码生成器")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" cook\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run release\n")])])]),a("h2",{attrs:{id:"命令行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令行"}},[t._v("#")]),t._v(" 命令行")]),t._v(" "),a("ul",[a("li",[t._v("生成配置文件")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ncgen genConf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例子1: 在当前目录下生成 ncgen-config.js 文件")]),t._v("\n$ ncgen genConf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例子2: 在当前目录下生成指定名称的文件")]),t._v("\n$ ncgen genConf -n code-config.js\n")])])]),a("ul",[a("li",[t._v("执行主命令：生成项目脚手架")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ncgen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("configuration "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例子1: 加载本地配置文件")]),t._v("\n$ ncgen ./ncgen-config.js\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例子2: 加载远程配置文件")]),t._v("\n$ ncgen https://raw.githubusercontent.com/daniel-dx/vue3-ncgen-demo/master/ncgen-config.js\n")])])]),a("ul",[a("li",[t._v("执行子命令：增量更新项目代码")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ncgen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("configuration "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("::"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("subcommand"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例子: 执行 add-component 子命令")]),t._v("\n$ ncgen ./ncgen-config.js::add-component\n")])])]),a("ul",[a("li",[t._v("查看所有子命令")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ncgen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("configuration "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("::help\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例子")]),t._v("\n$ ncgen ./ncgen-config.js::help\n")])])]),a("h2",{attrs:{id:"答案获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#答案获取"}},[t._v("#")]),t._v(" 答案获取")]),t._v(" "),a("p",[t._v("所有支持 "),a("code",[t._v("function")]),t._v(" 类型的属性（除了 "),a("code",[t._v("welcome")]),t._v(", "),a("code",[t._v("prompt")]),t._v(", "),a("code",[t._v("description")]),t._v(" 外），都可以在 "),a("code",[t._v("function")]),t._v(" 里面通过 "),a("code",[t._v("this.$answers")]),t._v(" 获取问题答案数据。")]),t._v(" "),a("p",[t._v("假设你的问题项设置如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 例子")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    prompt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What is your name"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("那么你可以在 "),a("code",[t._v("updateFiles")]),t._v(" 中通过 "),a("code",[t._v("this.$answers")]),t._v(" 获取 "),a("code",[t._v("name")]),t._v(" 的值。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    updateFiles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.json"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 假设用户输入的 `name` 的值为 `demo name`，那么你可以通过以下获取到各种格式的值")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// demo name")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kebabCase "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// demo-name")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camelCase "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// demoName")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("snakeCase "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// demo_name")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upperFirstCamelCase "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DemoName")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Demo Name")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$answers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("humanized "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Demo name")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);